{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ConsultarLibrosComponent = class ConsultarLibrosComponent {\n  constructor(libroService, editorialService) {\n    this.libroService = libroService;\n    this.editorialService = editorialService;\n  }\n  ngOnInit() {\n    //console.log(this.empleadoService.getEmpleados());\n    this.getLibros();\n    this.getEditorial();\n  }\n  getEditorial() {\n    this.editorialService.getEditorial().subscribe(res => {\n      this.editorialService.editoriales = res;\n      console.log(res);\n    }, err => console.log(err));\n  }\n  getLibros() {\n    this.libroService.getLibro().subscribe(res => {\n      this.libroService.libros = res;\n      console.log(res);\n    }, err => console.log(err));\n  }\n  createLibro(form) {\n    alert('creando');\n    this.libroService.createLibro(form.value).subscribe(res => {\n      this.getLibros();\n      form.reset();\n    }, err => console.log(err));\n  }\n  updateLibro(form) {\n    alert('actualizando');\n    this.libroService.editAlumno(form.value).subscribe(res => console.log(res), err => console.log(err));\n  }\n  deleteLibro(_id) {\n    alert('Borrando');\n    const resp = confirm('Estas seguro de eliminarlo?');\n    console.log('eliminando ' + _id);\n    if (resp) {\n      this.libroService.deleteLibro(_id).subscribe(res => {\n        this.getLibros();\n      }, err => console.log(err));\n    }\n  }\n  editLibro(libro) {\n    this.libroService.libro = libro;\n  }\n  formReset(form) {\n    this.libroService.libro = form.value;\n    form.reset();\n  }\n};\nConsultarLibrosComponent = __decorate([Component({\n  selector: 'app-consultar-libros',\n  templateUrl: './consultar-libros.component.html',\n  styleUrls: ['./consultar-libros.component.css']\n})], ConsultarLibrosComponent);\nexport { ConsultarLibrosComponent };","map":{"version":3,"names":["Component","ConsultarLibrosComponent","constructor","libroService","editorialService","ngOnInit","getLibros","getEditorial","subscribe","res","editoriales","console","log","err","getLibro","libros","createLibro","form","alert","value","reset","updateLibro","editAlumno","deleteLibro","_id","resp","confirm","editLibro","libro","formReset","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\BIBLIOTEC\\bibliotecV3\\src\\app\\componentes\\consultar-libros\\consultar-libros.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ConsultaService } from 'src/app/services/consulta.service';\nimport { Libro } from 'src/app/models/libro';\nimport { libroService } from 'src/app/services/libro.service';\nimport { EditorialService } from 'src/app/services/editorial.service';\n\n\n@Component({\n  selector: 'app-consultar-libros',\n  templateUrl: './consultar-libros.component.html',\n  styleUrls: ['./consultar-libros.component.css']\n})\nexport class ConsultarLibrosComponent implements OnInit{\n  \n  constructor(public libroService:libroService, public editorialService:EditorialService) { }\n\n  ngOnInit(): void {\n    //console.log(this.empleadoService.getEmpleados());\n    this.getLibros();\n    this.getEditorial();\n  }\n\n  getEditorial(){\n    this.editorialService.getEditorial().subscribe(\n      res => {\n        this.editorialService.editoriales= res;\n        console.log(res);\n      },\n      err => console.log(err)\n    )\n  }\n\n  getLibros(){\n    this.libroService.getLibro().subscribe(\n      res => {\n        this.libroService.libros= res;\n        console.log(res);\n      },\n      err => console.log(err)\n    )\n  }\n\n  createLibro(form:NgForm){\n    alert('creando');\n    this.libroService.createLibro(form.value).subscribe(\n      res=> {\n        this.getLibros();\n        form.reset();\n      },\n      err=> console.log(err)\n    )\n  } \n  \n  updateLibro(form:NgForm){                      //form.value.id\n      alert('actualizando'); \n      this.libroService.editAlumno(form.value).subscribe(\n       res=> console.log(res) ,\n       err=> console.log(err)\n      );\n      \n } \n \n\n  deleteLibro(_id:any){\n    alert('Borrando');\n     const resp= confirm('Estas seguro de eliminarlo?');\n     console.log('eliminando '+_id);\n     if(resp){\n       this.libroService.deleteLibro(_id).subscribe(\n        res=>{\n          this.getLibros();\n        },\n        (err)=> console.log(err)\n       );\n     }\n  }\n\n  editLibro(libro:Libro){\n    this.libroService.libro= libro;\n  }\n\n  formReset(form:NgForm){\n    this.libroService.libro=form.value;\n    form.reset();\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAYzC,IAAaC,wBAAwB,GAArC,MAAaA,wBAAwB;EAEnCC,YAAmBC,YAAyB,EAASC,gBAAiC;IAAnE,KAAAD,YAAY,GAAZA,YAAY;IAAsB,KAAAC,gBAAgB,GAAhBA,gBAAgB;EAAqB;EAE1FC,QAAQA,CAAA;IACN;IACA,IAAI,CAACC,SAAS,EAAE;IAChB,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACH,gBAAgB,CAACG,YAAY,EAAE,CAACC,SAAS,CAC5CC,GAAG,IAAG;MACJ,IAAI,CAACL,gBAAgB,CAACM,WAAW,GAAED,GAAG;MACtCE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAClB,CAAC,EACDI,GAAG,IAAIF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CACxB;EACH;EAEAP,SAASA,CAAA;IACP,IAAI,CAACH,YAAY,CAACW,QAAQ,EAAE,CAACN,SAAS,CACpCC,GAAG,IAAG;MACJ,IAAI,CAACN,YAAY,CAACY,MAAM,GAAEN,GAAG;MAC7BE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAClB,CAAC,EACDI,GAAG,IAAIF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CACxB;EACH;EAEAG,WAAWA,CAACC,IAAW;IACrBC,KAAK,CAAC,SAAS,CAAC;IAChB,IAAI,CAACf,YAAY,CAACa,WAAW,CAACC,IAAI,CAACE,KAAK,CAAC,CAACX,SAAS,CACjDC,GAAG,IAAE;MACH,IAAI,CAACH,SAAS,EAAE;MAChBW,IAAI,CAACG,KAAK,EAAE;IACd,CAAC,EACDP,GAAG,IAAGF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CACvB;EACH;EAEAQ,WAAWA,CAACJ,IAAW;IACnBC,KAAK,CAAC,cAAc,CAAC;IACrB,IAAI,CAACf,YAAY,CAACmB,UAAU,CAACL,IAAI,CAACE,KAAK,CAAC,CAACX,SAAS,CACjDC,GAAG,IAAGE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,EACtBI,GAAG,IAAGF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CACtB;EAEN;EAGCU,WAAWA,CAACC,GAAO;IACjBN,KAAK,CAAC,UAAU,CAAC;IAChB,MAAMO,IAAI,GAAEC,OAAO,CAAC,6BAA6B,CAAC;IAClDf,OAAO,CAACC,GAAG,CAAC,aAAa,GAACY,GAAG,CAAC;IAC9B,IAAGC,IAAI,EAAC;MACN,IAAI,CAACtB,YAAY,CAACoB,WAAW,CAACC,GAAG,CAAC,CAAChB,SAAS,CAC3CC,GAAG,IAAE;QACH,IAAI,CAACH,SAAS,EAAE;MAClB,CAAC,EACAO,GAAG,IAAIF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CACxB;;EAEN;EAEAc,SAASA,CAACC,KAAW;IACnB,IAAI,CAACzB,YAAY,CAACyB,KAAK,GAAEA,KAAK;EAChC;EAEAC,SAASA,CAACZ,IAAW;IACnB,IAAI,CAACd,YAAY,CAACyB,KAAK,GAACX,IAAI,CAACE,KAAK;IAClCF,IAAI,CAACG,KAAK,EAAE;EACd;CACD;AAzEYnB,wBAAwB,GAAA6B,UAAA,EALpC9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,C,EACWhC,wBAAwB,CAyEpC;SAzEYA,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}